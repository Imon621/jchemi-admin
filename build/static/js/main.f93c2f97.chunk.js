(this["webpackJsonpjchemi-admin"]=this["webpackJsonpjchemi-admin"]||[]).push([[0],{112:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(15),r=n.n(i),l=(n(112),n(39)),s=n(18),o=n(49),d=n(47),j=n(35),h=n(168),b=n(171),u=n(173),O=n(174),m=n(127),x=n(197),g=n(178),p=n(78);p.a.initializeApp({apiKey:"AIzaSyB-7LeElka_nAHqWkB_PNVWhZ3gBYTrx5Y",authDomain:"jchemi-11e8d.firebaseapp.com",projectId:"jchemi-11e8d",storageBucket:"jchemi-11e8d.appspot.com",messagingSenderId:"898389540363",appId:"1:898389540363:web:bdc3b642fe430e6dedd10e"});var f=p.a,v=f.firestore(),y=f.auth(),C=n(4);function k(){var e=c.a.useState(!!y.currentUser),t=Object(j.a)(e,2),n=t[0],a=t[1],i=c.a.useState({email:"",password:""}),r=Object(j.a)(i,2),l=r[0],p=r[1],f=function(e){var t=e.target,n=t.name,a=t.value;p(Object(d.a)(Object(d.a)({},l),{},Object(o.a)({},n,a)))},v=Object(h.a)({root:{maxWidth:500},main:{height:"100vh"}})();return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(b.a,{style:{height:"80vh"},container:!0,alignItems:"center",justify:"center",direction:"column",children:[Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(u.a,{className:v.root,children:Object(C.jsxs)(O.a,{children:[Object(C.jsx)(m.a,{variant:"h5",children:"Log In"}),Object(C.jsx)("form",{onSubmit:function(e){e.preventDefault(),y.signInWithEmailAndPassword(l.email,l.password).then((function(e){console.log(e),a(!0)})).catch((function(e){console.log(e)}))},children:Object(C.jsxs)(b.a,{container:!0,alignItems:"center",justify:"center",direction:"column",children:[Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(x.a,{id:"email",name:"email",label:"Email",type:"Email",value:l.email,onChange:f})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(x.a,{id:"password",name:"password",label:"Password",type:"Password",value:l.password,onChange:f})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(g.a,{style:{marginTop:30},variant:"outlined",color:"primary",type:"submit",children:"Log In"})})]})})]})})}),n?Object(C.jsx)(s.a,{to:"/home"}):""]})})}function S(e){var t=c.a.useState(!!y.currentUser),n=Object(j.a)(t,2),a=n[0],i=n[1];return Object(C.jsxs)("div",{children:[Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:Object(C.jsx)(l.b,{to:"/chapter/hsc21",children:"hsc21"})}),Object(C.jsx)("li",{children:Object(C.jsx)(l.b,{to:"/chapter/hsc22",children:"hsc22"})}),Object(C.jsx)("li",{children:Object(C.jsx)(l.b,{to:"/chapter/master",children:"master"})})]}),Object(C.jsx)(g.a,{onClick:function(){y.signOut().then((function(e){i(!1)}))},variant:"contained",color:"primary",children:"log out"}),a?"":Object(C.jsx)(s.a,{to:"/login"})]})}var I=n(126),W=n(181),_=n(185),w=n(184),T=n(180),F=n(182),P=n(183),E=n(187),N=n(194),A=n(190),B=n(189),L=n(188),D=n(179),Y=n(90),H=n.n(Y),R=n(92),z=n.n(R),J=n(94),M=n.n(J),U=n(89),q=n.n(U),K=n(91),V=n.n(K),Z=n(93),G=n.n(Z),Q=n(186),X=n(191),$=n(195),ee=n(196),te=n(177),ne=n(192),ae=c.a.forwardRef((function(e,t){return Object(C.jsx)(D.a,Object(d.a)({direction:"up",ref:t},e))})),ce=null,ie=function(e){ce=e};function re(){var e=c.a.useState(""),t=Object(j.a)(e,2),n=t[0],a=t[1],i=c.a.useState(!1),r=Object(j.a)(i,2),l=r[0],u=r[1],O=c.a.useState(!1),p=Object(j.a)(O,2),f=(p[0],p[1],Object(s.g)().course),y=function(){v.collection("courses").doc(f).collection("chapter").get().then((function(e){var t=[];u(!1),e.docs.map((function(e){var n={year:e.data().year,id:e.id,no:e.data().no,chapter:e.data().chapter,class_started:e.data().class_started,name:e.data().name,total:e.data().total,running:e.data().running,tags:e.data().tags};t.push(n)})),a(t)}))};c.a.useEffect((function(){y()}),Object(s.g)().course);var k=function(e){return""!=e?e.split(" "):[]},S=function(e){var t=[];return n.map((function(n){n.year===e&&t.push(n)})),t},D=[{id:"no",label:"No.",minWidth:50},{id:"name",label:"Name",minWidth:100},{id:"chapter",label:"Chapter",minWidth:80},{id:"class_started",label:"Class_started",minWidth:60},{id:"total",label:"Total",minWidth:50},{id:"year",label:"Year",minWidth:50},{id:"running",label:"Running",minWidth:50},{id:"tags",label:"Tags",minWidth:50}],Y=Object(h.a)({root:{width:"100%"},container:{maxHeight:600}})(),R=function(e){var t,n=e.data;return Object(C.jsx)(C.Fragment,{children:0!==n.length?Object(C.jsxs)(I.a,{className:Y.root,children:["primary"===n[0].year?Object(C.jsx)(m.a,{variant:"h5",children:"1st Paper"}):Object(C.jsx)(m.a,{variant:"h5",children:"2nd Paper"}),Object(C.jsx)(T.a,{className:Y.container,children:Object(C.jsxs)(W.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(C.jsx)(F.a,{children:Object(C.jsxs)(P.a,{children:[D.map((function(e){return Object(C.jsx)(w.a,{align:"center",style:{minWidth:e.minWidth},children:e.label},e.id)})),Object(C.jsx)(w.a,{align:"center",children:"Edit"},"button"),Object(C.jsx)(w.a,{align:"center",children:"Delete"},"del-button")]})}),Object(C.jsx)(_.a,{children:(t=n,t.sort((function(e,t){return e.no-t.no})),t).map((function(e){return Object(C.jsxs)(P.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[D.map((function(t){var n=e[t.id];return Object(C.jsx)(w.a,{align:"center",children:"link"===t.id?Object(C.jsx)("a",{target:"_blank",href:n,children:"Class Link"}):Object(C.jsx)(C.Fragment,{children:void 0!==n?n.toString():""})},t.id)})),Object(C.jsx)(w.a,{children:Object(C.jsx)(Q.a,{style:{color:q.a[600]},onClick:function(){ie(e.id),u(!0)},children:Object(C.jsx)(H.a,{})})},"button"),Object(C.jsx)(w.a,{children:Object(C.jsx)(Q.a,{style:{color:V.a[600]},onClick:function(){v.collection("courses").doc(f).collection("chapter").doc(e.id).delete().then((function(){y()})).catch((function(e){console.log(e)}))},children:Object(C.jsx)(z.a,{})})},"del-button")]},e.no)}))}),Object(C.jsx)(E.a,{children:Object(C.jsx)(P.a,{col:!0,children:Object(C.jsx)(w.a,{colSpan:9,children:Object(C.jsxs)(Q.a,{style:{color:G.a[600]},onClick:function(){ie(null),u(!0)},children:[Object(C.jsx)(M.a,{}),Object(C.jsx)(m.a,{variant:"h6",children:"Add Chapter"})]})})})})]})})]}):""})},J=function(){var e={no:"",name:"",chapter:"",class_started:"",total:0,year:"",running:null,tags:"",src:"",color:""},t=c.a.useState((function(){if(null!==ce){var t=n.filter((function(e){if(e.id===ce)return!0}));return{no:(t=t[0]).no,name:void 0===t.name?"":t.name,chapter:void 0===t.chapter?"":t.chapter,class_started:void 0===t.class_started?"":t.class_started,total:void 0===t.total?"":t.total,year:void 0===t.year?"":t.year,running:void 0===t.running?"":t.running,tags:void 0===t.tags?"":t.tags,src:void 0===t.src?"":t.src,color:void 0===t.color?"":t.color}}return e})),a=Object(j.a)(t,2),i=a[0],r=a[1],s=function(e){var t=e.target,n=t.name,a=t.value;r(Object(d.a)(Object(d.a)({},i),{},Object(o.a)({},n,a)))};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(N.a,{open:l,TransitionComponent:ae,keepMounted:!0,onClose:function(){ie(null),u(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(C.jsx)(L.a,{id:"alert-dialog-slide-title",children:null!==ce?"Edit Chapter":"Add Chapter"}),Object(C.jsx)(B.a,{children:Object(C.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(C.jsxs)(b.a,{container:!0,alignItems:"center",justify:"center",direction:"column",children:[Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(x.a,{id:"no",name:"no",label:"NO",type:"Number",value:i.no,onChange:s})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(x.a,{id:"name",name:"name",label:"Name",type:"Text",value:i.name,onChange:s})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(x.a,{id:"chapter",name:"chapter",label:"Chapter",type:"Text",value:i.chapter,onChange:s})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(x.a,{id:"class_started",name:"class_started",label:"Class Started",type:"Text",value:i.class_started,onChange:s})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(x.a,{id:"total",name:"total",label:"Total",type:"number",value:i.total,onChange:s})}),Object(C.jsxs)(te.a,{children:[Object(C.jsx)($.a,{id:"demo-simple-select-label",children:"Year"}),Object(C.jsxs)(ne.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"year",value:i.year,onChange:s,children:[Object(C.jsx)(ee.a,{value:"primary",children:"1st Paper"}),Object(C.jsx)(ee.a,{value:"secondary",children:"2nd Paper"})]})]}),Object(C.jsxs)(te.a,{children:[Object(C.jsx)($.a,{id:"demo-running-select-label",children:"Running"}),Object(C.jsxs)(ne.a,{labelId:"demo-simple-select-label",id:"demo-running-select",name:"running",value:i.running,onChange:s,children:[Object(C.jsx)(ee.a,{value:!0,children:"running"}),Object(C.jsx)(ee.a,{value:!1,children:"finished"})]})]})]}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(x.a,{id:"tags",name:"tags",label:"Tags",type:"text",value:i.tags,onChange:s})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(x.a,{id:"src",name:"src",label:"Src",type:"text",value:i.src,onChange:s})}),Object(C.jsx)(b.a,{item:!0,children:Object(C.jsx)(x.a,{id:"color",name:"color",label:"Color",type:"text",value:i.color,onChange:s})})]})}),Object(C.jsxs)(A.a,{children:[Object(C.jsx)(g.a,{onClick:function(){ie(null),u(!1)},variant:"outlined",color:"primary",children:"Cancel"}),Object(C.jsx)(g.a,{onClick:function(){null===ce?(i.tags=k(i.tags),v.collection("courses").doc(f).collection("chapter").add(i).then((function(){r(e),y()})).catch((function(e){console.log(e)}))):(i.tags=k(i.tags),console.log(i),console.log(ce),v.collection("courses").doc(f).collection("chapter").doc(ce).update(i).then((function(){r(e),y()})).catch((function(e){console.log(e)})))},variant:"contained",color:"primary",children:null!==ce?"Edit":"Add"})]})]})})};return Object(C.jsx)(C.Fragment,{children:""!==n?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(R,{data:S("primary")}),S("secondary")?Object(C.jsx)(R,{data:S("secondary")}):"",Object(C.jsx)(J,{})]}):Object(C.jsx)("div",{style:{height:"70vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(C.jsx)(X.a,{style:{}})})})}var le=function(){return Object(C.jsx)(l.a,{children:Object(C.jsxs)(s.d,{children:[Object(C.jsx)(s.b,{path:"/home",children:Object(C.jsx)(S,{})}),Object(C.jsx)(s.b,{path:"/login",children:Object(C.jsx)(k,{})}),Object(C.jsx)(s.b,{path:"/chapter/:course",children:Object(C.jsx)(re,{})}),Object(C.jsx)(s.b,{path:"/",children:Object(C.jsx)(S,{})})]})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,199)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(le,{})}),document.getElementById("root")),se()}},[[124,1,2]]]);
//# sourceMappingURL=main.f93c2f97.chunk.js.map