(this["webpackJsonpjchemi-admin"]=this["webpackJsonpjchemi-admin"]||[]).push([[0],{129:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(15),l=n.n(i),r=(n(129),n(36)),s=n(18),o=n(40),d=n(31),j=n(23),b=n(170),h=n(173),u=n(175),O=n(176),x=n(144),m=n(199),p=n(180),g=n(85);g.a.initializeApp({apiKey:"AIzaSyB-7LeElka_nAHqWkB_PNVWhZ3gBYTrx5Y",authDomain:"jchemi-11e8d.firebaseapp.com",projectId:"jchemi-11e8d",storageBucket:"jchemi-11e8d.appspot.com",messagingSenderId:"898389540363",appId:"1:898389540363:web:bdc3b642fe430e6dedd10e"});var f=g.a,v=f.firestore(),y=f.auth(),C=n(4);function k(){var e=c.a.useState(!0),t=Object(j.a)(e,2),n=t[0],a=t[1],i=c.a.useState({email:"",password:""}),l=Object(j.a)(i,2),r=l[0],g=l[1],f=function(e){var t=e.target,n=t.name,a=t.value;g(Object(d.a)(Object(d.a)({},r),{},Object(o.a)({},n,a)))},v=Object(b.a)({root:{maxWidth:500},main:{height:"100vh"}})();return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(h.a,{style:{height:"80vh"},container:!0,alignItems:"center",justify:"center",direction:"column",children:[Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(u.a,{className:v.root,children:Object(C.jsxs)(O.a,{children:[Object(C.jsx)(x.a,{variant:"h5",children:"Log In"}),Object(C.jsx)("form",{onSubmit:function(e){e.preventDefault(),y.signInWithEmailAndPassword(r.email,r.password).then((function(e){console.log(e),a(!0)})).catch((function(e){console.log(e)}))},children:Object(C.jsxs)(h.a,{container:!0,alignItems:"center",justify:"center",direction:"column",children:[Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(m.a,{id:"email",name:"email",label:"Email",type:"Email",value:r.email,onChange:f})}),Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(m.a,{id:"password",name:"password",label:"Password",type:"Password",value:r.password,onChange:f})}),Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(p.a,{style:{marginTop:30},variant:"outlined",color:"primary",type:"submit",children:"Log In"})})]})})]})})}),n?Object(C.jsx)(s.a,{to:"/home"}):""]})})}function I(e){var t=c.a.useState(!0),n=Object(j.a)(t,2),a=n[0],i=n[1];return Object(C.jsxs)("div",{children:[Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:Object(C.jsx)(r.b,{to:"/chapter/hsc21",children:"hsc21"})}),Object(C.jsx)("li",{children:Object(C.jsx)(r.b,{to:"/chapter/hsc22",children:"hsc22"})}),Object(C.jsx)("li",{children:Object(C.jsx)(r.b,{to:"/chapter/master",children:"master"})})]}),Object(C.jsx)(p.a,{onClick:function(){y.signOut().then((function(e){i(!1)}))},variant:"contained",color:"primary",children:"log out"}),a?"":Object(C.jsx)(s.a,{to:"/login"})]})}var S=n(143),W=n(183),_=n(187),N=n(186),T=n(182),w=n(184),F=n(185),E=n(189),A=n(196),L=n(192),P=n(191),D=n(190),B=n(181),H=n(73),M=n.n(H),R=n(75),Y=n.n(R),z=n(55),J=n.n(z),q=n(101),K=n.n(q),V=n(72),Z=n.n(V),G=n(100),Q=n.n(G),U=n(74),X=n.n(U),$=n(54),ee=n.n($),te=n(188),ne=n(193),ae=n(197),ce=n(198),ie=n(179),le=n(194),re=c.a.forwardRef((function(e,t){return Object(C.jsx)(B.a,Object(d.a)({direction:"up",ref:t},e))})),se=null,oe=function(e){se=e};function de(){var e=c.a.useState(""),t=Object(j.a)(e,2),n=t[0],a=t[1],i=c.a.useState(!1),l=Object(j.a)(i,2),u=l[0],O=l[1],g=Object(s.g)().course,f=function(){v.collection("courses").doc(g).collection("chapter").get().then((function(e){var t=[];e.docs.map((function(e){var n={year:e.data().year,id:e.id,no:e.data().no,chapter:e.data().chapter,class_started:e.data().class_started,name:e.data().name,total:e.data().total,running:e.data().running,tags:e.data().tags};t.push(n)})),a(t)}))};c.a.useEffect((function(){f()}),Object(s.g)().course);var y=function(e){return""!=e?e.split(" "):[]},k=function(e){var t=[];return n.map((function(n){n.year===e&&t.push(n)})),t},I=[{id:"no",label:"No.",minWidth:50},{id:"name",label:"Name",minWidth:100},{id:"chapter",label:"Chapter",minWidth:80},{id:"class_started",label:"Class_started",minWidth:60},{id:"total",label:"Total",minWidth:50},{id:"year",label:"Year",minWidth:50},{id:"running",label:"Running",minWidth:50},{id:"tags",label:"Tags",minWidth:50}],B=Object(b.a)({root:{width:"100%"},container:{maxHeight:600}})(),H=function(e){var t,n=e.data;return Object(C.jsx)(C.Fragment,{children:0!==n.length?Object(C.jsxs)(S.a,{className:B.root,children:["primary"===n[0].year?Object(C.jsx)(x.a,{variant:"h5",children:"1st Paper"}):Object(C.jsx)(x.a,{variant:"h5",children:"2nd Paper"}),Object(C.jsx)(T.a,{className:B.container,children:Object(C.jsxs)(W.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(C.jsx)(w.a,{children:Object(C.jsxs)(F.a,{children:[I.map((function(e){return Object(C.jsx)(N.a,{align:"center",style:{minWidth:e.minWidth},children:e.label},e.id)})),Object(C.jsx)(N.a,{align:"center",children:"Links"},"go_button"),Object(C.jsx)(N.a,{align:"center",children:"Edit"},"button"),Object(C.jsx)(N.a,{align:"center",children:"Delete"},"del-button")]})}),Object(C.jsx)(_.a,{children:(t=n,t.sort((function(e,t){return e.no-t.no})),t).map((function(e){return Object(C.jsxs)(F.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[I.map((function(t){var n=e[t.id];return Object(C.jsx)(N.a,{align:"center",children:"link"===t.id?Object(C.jsx)("a",{target:"_blank",href:n,children:"Class Link"}):Object(C.jsx)(C.Fragment,{children:void 0!==n?n.toString():""})},t.id)})),Object(C.jsx)(N.a,{component:r.b,to:"/classes/".concat(g,"/").concat(e.id),children:Object(C.jsx)(te.a,{style:{color:Q.a[500]},onClick:function(){oe(e.id),O(!0)},children:Object(C.jsx)(K.a,{})})},"go_button"),Object(C.jsx)(N.a,{children:Object(C.jsx)(te.a,{style:{color:Z.a[600]},onClick:function(){oe(e.id),O(!0)},children:Object(C.jsx)(M.a,{})})},"button"),Object(C.jsx)(N.a,{children:Object(C.jsx)(te.a,{style:{color:X.a[600]},onClick:function(){v.collection("courses").doc(g).collection("chapter").doc(e.id).delete().then((function(){f()})).catch((function(e){console.log(e)}))},children:Object(C.jsx)(Y.a,{})})},"del-button")]},e.no)}))}),Object(C.jsx)(E.a,{children:Object(C.jsx)(F.a,{col:!0,children:Object(C.jsx)(N.a,{colSpan:9,children:Object(C.jsxs)(te.a,{style:{color:ee.a[600]},onClick:function(){oe(null),O(!0)},children:[Object(C.jsx)(J.a,{}),Object(C.jsx)(x.a,{variant:"h6",children:"Add Chapter"})]})})})})]})})]}):Object(C.jsxs)(te.a,{style:{color:ee.a[600]},onClick:function(){oe(null),O(!0)},children:[Object(C.jsx)(J.a,{}),Object(C.jsx)(x.a,{variant:"h6",children:"Add Class"})]})})},R=function(){var e={no:"",name:"",chapter:"",class_started:"",total:0,year:"",running:null,tags:"",src:"",color:""},t=c.a.useState((function(){if(null!==se){var t=n.filter((function(e){if(e.id===se)return!0}));return{no:void 0===(t=t[0]).no?"":t.no,name:void 0===t.name?"":t.name,chapter:void 0===t.chapter?"":t.chapter,class_started:void 0===t.class_started?"":t.class_started,total:void 0===t.total?"":t.total,year:void 0===t.year?"":t.year,running:void 0===t.running?"":t.running,tags:void 0===t.tags?"":t.tags,src:void 0===t.src?"":t.src,color:void 0===t.color?"":t.color}}return e})),a=Object(j.a)(t,2),i=a[0],l=a[1],r=function(e){var t=e.target,n=t.name,a=t.value;l(Object(d.a)(Object(d.a)({},i),{},Object(o.a)({},n,a)))};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(A.a,{open:u,TransitionComponent:re,keepMounted:!0,onClose:function(){oe(null),O(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(C.jsx)(D.a,{id:"alert-dialog-slide-title",children:null!==se?"Edit Chapter":"Add Chapter"}),Object(C.jsx)(P.a,{children:Object(C.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(C.jsxs)(h.a,{container:!0,alignItems:"center",justify:"center",direction:"column",children:[Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(m.a,{id:"no",name:"no",label:"NO",type:"Number",value:i.no,onChange:r})}),Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(m.a,{id:"name",name:"name",label:"Name",type:"Text",value:i.name,onChange:r})}),Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(m.a,{id:"chapter",name:"chapter",label:"Chapter",type:"Text",value:i.chapter,onChange:r})}),Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(m.a,{id:"class_started",name:"class_started",label:"Class Started",type:"Text",value:i.class_started,onChange:r})}),Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(m.a,{id:"total",name:"total",label:"Total",type:"number",value:i.total,onChange:r})}),Object(C.jsxs)(ie.a,{children:[Object(C.jsx)(ae.a,{id:"demo-simple-select-label",children:"Year"}),Object(C.jsxs)(le.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"year",value:i.year,onChange:r,children:[Object(C.jsx)(ce.a,{value:"primary",children:"1st Paper"}),Object(C.jsx)(ce.a,{value:"secondary",children:"2nd Paper"})]})]}),Object(C.jsxs)(ie.a,{children:[Object(C.jsx)(ae.a,{id:"demo-running-select-label",children:"Running"}),Object(C.jsxs)(le.a,{labelId:"demo-simple-select-label",id:"demo-running-select",name:"running",value:i.running,onChange:r,children:[Object(C.jsx)(ce.a,{value:!0,children:"running"}),Object(C.jsx)(ce.a,{value:!1,children:"finished"})]})]})]}),Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(m.a,{id:"tags",name:"tags",label:"Tags",type:"text",value:i.tags,onChange:r})}),Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(m.a,{id:"src",name:"src",label:"Src",type:"text",value:i.src,onChange:r})}),Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(m.a,{id:"color",name:"color",label:"Color",type:"text",value:i.color,onChange:r})})]})}),Object(C.jsxs)(L.a,{children:[Object(C.jsx)(p.a,{onClick:function(){oe(null),O(!1)},variant:"outlined",color:"primary",children:"Cancel"}),Object(C.jsx)(p.a,{onClick:function(){null===se?(i.tags=y(i.tags),v.collection("courses").doc(g).collection("chapter").add(i).then((function(){l(e),f()})).catch((function(e){console.log(e)}))):(i.tags=y(i.tags),console.log(i),console.log(se),v.collection("courses").doc(g).collection("chapter").doc(se).update(i).then((function(){l(e),f()})).catch((function(e){console.log(e)})))},variant:"contained",color:"primary",children:null!==se?"Edit":"Add"})]})]})})};return Object(C.jsx)(C.Fragment,{children:""!==n?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(H,{data:k("primary")}),k("secondary")?Object(C.jsx)(H,{data:k("secondary")}):"",Object(C.jsx)(R,{})]}):Object(C.jsx)("div",{style:{height:"70vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(C.jsx)(ne.a,{style:{}})})})}var je=c.a.forwardRef((function(e,t){return Object(C.jsx)(B.a,Object(d.a)({direction:"up",ref:t},e))})),be=null,he=function(e){be=e};function ue(){var e=Object(b.a)({root:{width:"100%"},container:{maxHeight:440}})(),t=c.a.useState(!1),n=Object(j.a)(t,2),a=n[0],i=n[1],l=c.a.useState(""),r=Object(j.a)(l,2),u=r[0],O=r[1],g=Object(s.g)(),f=g.course,y=g.classId,k=function(){v.collection("courses").doc(f).collection("chapter").doc(y).collection("classes").get().then((function(e){var t=[];e.docs.map((function(e){var n={type:e.data().type,id:e.id,no:e.data().no,date:e.data().date,link:e.data().link,name:e.data().name};t.push(n)})),O(t),i(!1)}))};c.a.useEffect((function(){k()}),[]);var I=function(e){var t=[];return u.map((function(n){n.type===e&&t.push(n)})),t},B=[{id:"no",label:"No.",minWidth:50},{id:"name",label:"Name",minWidth:100},{id:"date",label:"Date",minWidth:60},{id:"link",label:"Link",minWidth:50}],H=function(t){var n,a=t.data;return Object(C.jsx)(C.Fragment,{children:0!==a.length?Object(C.jsxs)(S.a,{className:e.root,children:[Object(C.jsx)(x.a,{variant:"h5",children:a[0].type}),Object(C.jsx)(T.a,{className:e.container,children:Object(C.jsxs)(W.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(C.jsx)(w.a,{children:Object(C.jsxs)(F.a,{children:[B.map((function(e){return Object(C.jsx)(N.a,{align:"center",style:{minWidth:e.minWidth},children:e.label},e.id)})),Object(C.jsx)(N.a,{align:"center",children:"Edit"},"button"),Object(C.jsx)(N.a,{align:"center",children:"Delete"},"del-button")]})}),Object(C.jsx)(_.a,{children:(n=a,n.sort((function(e,t){return e.no-t.no})),n).map((function(e){return Object(C.jsxs)(F.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[B.map((function(t){var n=e[t.id];return Object(C.jsx)(N.a,{align:"center",children:"link"===t.id?Object(C.jsx)("a",{target:"_blank",href:n,children:"Link"}):Object(C.jsx)(C.Fragment,{children:void 0!==n?n.toString():""})},t.id)})),Object(C.jsx)(N.a,{children:Object(C.jsx)(te.a,{style:{color:Z.a[600]},onClick:function(){he(e.id),i(!0)},children:Object(C.jsx)(M.a,{})})},"button"),Object(C.jsx)(N.a,{children:Object(C.jsx)(te.a,{style:{color:X.a[600]},onClick:function(){v.collection("courses").doc(f).collection("chapter").doc(y).collection("classes").doc(e.id).delete().then((function(){k()})).catch((function(e){console.log(e)}))},children:Object(C.jsx)(Y.a,{})})},"del-button")]},e.no)}))}),Object(C.jsx)(E.a,{children:Object(C.jsx)(F.a,{col:!0,children:Object(C.jsx)(N.a,{colSpan:9,children:Object(C.jsxs)(te.a,{style:{color:ee.a[600]},onClick:function(){he(null),i(!0)},children:[Object(C.jsx)(J.a,{}),Object(C.jsxs)(x.a,{variant:"h6",children:["Add ",a[0].type]})]})})})})]})})]}):Object(C.jsxs)(te.a,{style:{color:ee.a[600]},onClick:function(){he(null),i(!0)},children:[Object(C.jsx)(J.a,{}),Object(C.jsx)(x.a,{variant:"h6",children:"Add Class"})]})})},R=function(){var e={no:"",type:"",name:"",date:"",link:""},t=c.a.useState((function(){if(null!==be){var t=u.filter((function(e){if(e.id===be)return!0}));return{no:(t=t[0]).no,name:void 0===t.name?"":t.name,type:void 0===t.type?"":t.type,date:void 0===t.date?"":t.date,link:void 0===t.link?"":t.link}}return e})),n=Object(j.a)(t,2),l=n[0],r=n[1],s=function(e){var t=e.target,n=t.name,a=t.value;r(Object(d.a)(Object(d.a)({},l),{},Object(o.a)({},n,a)))};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(A.a,{open:a,TransitionComponent:je,keepMounted:!0,onClose:function(){he(null),i(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(C.jsx)(D.a,{id:"alert-dialog-slide-title",children:null!==be?"Edit Chapter":"Add Chapter"}),Object(C.jsx)(P.a,{children:Object(C.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(C.jsxs)(h.a,{container:!0,alignItems:"center",justify:"center",direction:"column",children:[Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(m.a,{id:"no",name:"no",label:"NO",type:"Number",value:l.no,onChange:s})}),Object(C.jsx)(h.a,{children:Object(C.jsxs)(ie.a,{children:[Object(C.jsx)(ae.a,{id:"demo-simple-select-label",children:"Type"}),Object(C.jsxs)(le.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"type",value:l.type,onChange:s,children:[Object(C.jsx)(ce.a,{value:"link",children:"Class Link"}),Object(C.jsx)(ce.a,{value:"exam",children:"exam Link"}),Object(C.jsx)(ce.a,{value:"msg",children:"Massage"})]})]})}),Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(m.a,{id:"name",name:"name",label:"Name",type:"Text",value:l.name,onChange:s})}),Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(m.a,{id:"date",name:"date",label:"Date",type:"Text",value:l.date,onChange:s})}),Object(C.jsx)(h.a,{item:!0,children:Object(C.jsx)(m.a,{id:"link",name:"link",label:"Link",type:"text",value:l.link,onChange:s})})]})})}),Object(C.jsxs)(L.a,{children:[Object(C.jsx)(p.a,{onClick:function(){he(null),i(!1)},variant:"outlined",color:"primary",children:"Cancel"}),Object(C.jsx)(p.a,{onClick:function(){null===be?v.collection("courses").doc(f).collection("chapter").doc(y).collection("classes").add(l).then((function(){r(e),k()})).catch((function(e){console.log(e)})):v.collection("courses").doc(f).collection("chapter").doc(y).collection("classes").doc(be).update(l).then((function(){r(e),k()})).catch((function(e){console.log(e)}))},variant:"contained",color:"primary",children:null!==be?"Edit":"Add"})]})]})})};return Object(C.jsx)(C.Fragment,{children:""!==u?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(H,{data:I("link")}),0!==I("exam").length?Object(C.jsx)(H,{data:I("exam")}):"",Object(C.jsx)(R,{}),0!==I("msg").length?Object(C.jsx)(H,{data:I("msg")}):""]}):Object(C.jsx)("div",{style:{height:"70vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(C.jsx)(ne.a,{style:{}})})})}var Oe=function(){return Object(C.jsx)(r.a,{children:Object(C.jsxs)(s.d,{children:[Object(C.jsx)(s.b,{path:"/home",children:Object(C.jsx)(I,{})}),Object(C.jsx)(s.b,{path:"/login",children:Object(C.jsx)(k,{})}),Object(C.jsx)(s.b,{path:"/chapter/:course",children:Object(C.jsx)(de,{})}),Object(C.jsx)(s.b,{path:"/classes/:course/:classId",children:Object(C.jsx)(ue,{})}),Object(C.jsx)(s.b,{path:"/",children:Object(C.jsx)(I,{})})]})})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,201)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),a(e),c(e),i(e),l(e)}))};l.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(Oe,{})}),document.getElementById("root")),xe()}},[[141,1,2]]]);
//# sourceMappingURL=main.7ce4bb8f.chunk.js.map